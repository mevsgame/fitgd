<div class="lean-into-trait-dialog">
  <!-- Header -->
  <div class="dialog-header">
    <h2>Lean Into Trait</h2>
    <p class="momentum-display">Current Momentum: <strong>{{momentum}}/10</strong></p>
    <p class="gain-notice">
      âœ¨ Gain: <strong>+{{momentumGain}} Momentum</strong>
      {{#if wouldCapOut}}<span class="cap-warning">(Capped at 10)</span>{{/if}}
    </p>
  </div>

  <!-- Instructions -->
  <div class="instructions">
    <p><strong>Lean into a trait to create a complication.</strong></p>
    <p class="help-text">
      The trait will be <strong>disabled</strong> until the next Momentum Reset.
      While disabled, you cannot use it for flashbacks or position/effect improvements.
    </p>
  </div>

  <!-- Trait List -->
  <div class="trait-list">
    <h3>Select a Trait:</h3>

    <div class="traits-grid">
      {{#each availableTraits}}
      <div class="trait-item {{#if (eq ../selectedTraitId this.id)}}selected{{/if}}" data-trait-id="{{this.id}}">
        <div class="trait-name">{{this.name}}</div>
        <div class="trait-category">{{this.category}}</div>
        {{#if this.description}}
        <div class="trait-description">{{this.description}}</div>
        {{/if}}
      </div>
      {{/each}}

      {{#unless availableTraits.length}}
      <p class="no-traits">No available traits. All traits are currently disabled (already leaned into).</p>
      {{/unless}}
    </div>
  </div>

  <!-- Optional Complication Description -->
  {{#if selectedTraitId}}
  <div class="complication-input">
    <label>Describe the complication (optional):</label>
    <textarea name="complicationDescription" rows="2" placeholder="How does this trait create problems right now?"></textarea>
    <p class="help-text-small">This is for flavor/narrative - not required.</p>
  </div>
  {{/if}}

  <!-- Action Buttons -->
  <div class="dialog-buttons">
    <button type="button" data-action="cancel" class="secondary">Cancel</button>
    <button type="button" data-action="apply" class="primary" {{#unless selectedTraitId}}disabled{{/unless}}>
      Lean Into Trait (+{{momentumGain}}M)
    </button>
  </div>
</div>
