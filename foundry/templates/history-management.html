<form class="fitgd-history-management">
  <div class="form-group">
    <h2>{{localize "FITGD.Settings.HistoryManagement.StatsTitle"}}</h2>

    {{#if error}}
      <div class="notification error">
        <p>{{localize "FITGD.Settings.HistoryManagement.Error"}}: {{error}}</p>
      </div>
    {{else if stats.isEmpty}}
      <div class="notification info">
        <p>{{localize "FITGD.Settings.HistoryManagement.NoHistory"}}</p>
      </div>
    {{else}}
      <table class="history-stats">
        <tr>
          <td><strong>{{localize "FITGD.Settings.HistoryManagement.TotalCommands"}}:</strong></td>
          <td>{{stats.totalCommands}}</td>
        </tr>
        <tr>
          <td><strong>{{localize "FITGD.Settings.HistoryManagement.CharacterCommands"}}:</strong></td>
          <td>{{stats.characterCommands}}</td>
        </tr>
        <tr>
          <td><strong>{{localize "FITGD.Settings.HistoryManagement.CrewCommands"}}:</strong></td>
          <td>{{stats.crewCommands}}</td>
        </tr>
        <tr>
          <td><strong>{{localize "FITGD.Settings.HistoryManagement.ClockCommands"}}:</strong></td>
          <td>{{stats.clockCommands}}</td>
        </tr>
        <tr>
          <td><strong>{{localize "FITGD.Settings.HistoryManagement.EstimatedSize"}}:</strong></td>
          <td>~{{stats.estimatedSizeKB}} KB</td>
        </tr>
        {{#if stats.timeSpanHours}}
          <tr>
            <td><strong>{{localize "FITGD.Settings.HistoryManagement.TimeSpan"}}:</strong></td>
            <td>{{stats.timeSpanHours}} {{localize "FITGD.Settings.HistoryManagement.Hours"}}</td>
          </tr>
        {{/if}}
        {{#if stats.oldestDate}}
          <tr>
            <td><strong>{{localize "FITGD.Settings.HistoryManagement.OldestCommand"}}:</strong></td>
            <td>{{stats.oldestDate}}</td>
          </tr>
        {{/if}}
        {{#if stats.newestDate}}
          <tr>
            <td><strong>{{localize "FITGD.Settings.HistoryManagement.NewestCommand"}}:</strong></td>
            <td>{{stats.newestDate}}</td>
          </tr>
        {{/if}}
      </table>

      <div class="notification warning" style="margin-top: 1em;">
        <p><strong>{{localize "FITGD.Settings.HistoryManagement.WarningTitle"}}</strong> {{localize "FITGD.Settings.HistoryManagement.WarningText"}}</p>
      </div>
    {{/if}}
  </div>

  <div class="form-group button-group">
    <button type="button" name="refresh" style="margin-right: 0.5em;">
      <i class="fas fa-sync"></i> {{localize "FITGD.Settings.HistoryManagement.RefreshStats"}}
    </button>

    {{#unless stats.isEmpty}}
      <button type="button" name="prune" class="danger">
        <i class="fas fa-trash"></i> {{localize "FITGD.Settings.HistoryManagement.PruneHistory"}}
      </button>
    {{/unless}}
  </div>
</form>
